<html><head><!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><meta charset="UTF-8"></head><body><div hidden by-vulcanize=""><dom-module id="shared-styles" assetpath="./"><template><style>.card{margin:24px;padding:16px;color:#000;border-radius:5px;background-color:#fff;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2)}.circle{display:inline-block;width:64px;height:64px;text-align:center;color:#555;border-radius:50%;background:#ddd;font-size:30px;line-height:64px}h2,h3,h4{color:#045a2b}h1{margin:16px 0;color:#212121;font-size:20px}h2{font-size:28px}.card img{width:70%;display:block;float:none;margin:auto;padding:20px 0 60px}</style></template></dom-module><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script><dom-module id="bus-schedule" assetpath="./"><template><style include="shared-styles">:host{display:block;padding:0;text-align:center;width:70%;margin:auto}.hidden{display:none}#sFromContainer,#sHeaders,#sToContainer{display:inline-block}.disabled{background-color:silver!important}#disSchedules,#sHeaders{background-color:#02823b}#sHeaders{width:100%}#sHeaders h4{width:25%;float:left;color:#fff;margin:1% 0}#sDisplay{width:80%;float:none;margin:2% auto}#sFromContainer{width:50%;float:left}.sStation,.sTime{float:left;width:100%}#sToContainer{width:50%;float:left}#sTimeContainer .sTime{width:100%;float:left}#disSchedules{margin:1% 0;width:15%;color:#fff}.sTimeContainer{width:50%;float:right}.sStationContainer{width:50%;float:left}#disSchedules:hover{color:#fff;background-color:#3f51b5}select{width:50%;padding:10px 15px;margin:5px 0;font-size:14px;border-radius:3px}h3{margin:0;font-size:24px}</style><section class="schedules-container"><h3>View train Schedules</h3><p>Click on the options below to get started.</p><div id="tripDate"><select id="dates"><option value="none">When are you traveling?</option><option value="WEEK">Weekday</option><option value="SAT">Saturday</option><option value="SUN">Sunday</option></select></div><div id="tripDirection"><select class="hidden" id="direction"><option value="none">Which direction are you heading?</option><option value="NB">NB</option><option value="SB">SB</option></select></div><div class="hidden" id="nb"><select id="northBoundFrom"><option value="100" alt="none">Select your Starting Point</option><option value="101" alt="9390">Somerset - Bridelwood</option><option value="102" alt="9391">Shawnessy</option><option value="103" alt="9261">Fish Creek - Lacombe</option><option value="104" alt="9262">Canyon Meadows</option><option value="105" alt="6801">Anderson</option><option value="106" alt="6802">Southland</option><option value="107" alt="6803">Heritage</option><option value="108" alt="6804">Chinook</option><option value="109" alt="6805">39th Avenue</option><option value="110" alt="6806">Erlton / Stampede</option><option value="111" alt="6807">Victoria Park / Stampede</option><option value="112" alt="6822">City Hall</option><option value="113" alt="6823">1st Street SW</option><option value="114" alt="6824">4th Street SW</option><option value="115" alt="6825">7th Street SW</option><option value="116" alt="6820">Sunnyside</option><option value="117" alt="6819">SAIT / ACAD / Jubilee</option><option value="118" alt="6818">Lions Park</option><option value="119" alt="6817">Banff Trail</option><option value="120" alt="6816">University</option><option value="121" alt="4934">Brentwood</option><option value="122" alt="4155">Dalhousie</option><option value="123" alt="3816">Crowfoot</option><option value="124" alt="3640">Tuscany</option></select><select id="northBoundTo"><option value="99" alt="none">Select your Starting Point</option><option value="100" alt="9390">Somerset - Bridelwood</option><option value="101" alt="9391">Shawnessy</option><option value="102" alt="9261">Fish Creek - Lacombe</option><option value="103" alt="9262">Canyon Meadows</option><option value="104" alt="6801">Anderson</option><option value="105" alt="6802">Southland</option><option value="106" alt="6803">Heritage</option><option value="107" alt="6804">Chinook</option><option value="108" alt="6805">39th Avenue</option><option value="109" alt="6806">Erlton / Stampede</option><option value="110" alt="6807">Victoria Park / Stampede</option><option value="111" alt="6822">City Hall</option><option value="112" alt="6823">1st Street SW</option><option value="113" alt="6824">4th Street SW</option><option value="114" alt="6825">7th Street SW</option><option value="115" alt="6820">Sunnyside</option><option value="116" alt="6819">SAIT / ACAD / Jubilee</option><option value="117" alt="6818">Lions Park</option><option value="118" alt="6817">Banff Trail</option><option value="119" alt="6816">University</option><option value="120" alt="4934">Brentwood</option><option value="121" alt="4155">Dalhousie</option><option value="122" alt="3816">Crowfoot</option><option value="123" alt="3640">Tuscany</option></select></div><div class="hidden" id="sb"><select id="southBoundFrom"><option value="100" alt="none">Select your Starting Point</option><option value="101" alt="3641">Tuscany</option><option value="102" alt="3817">Crowfoot</option><option value="103" alt="3960">Dalhousie</option><option value="104" alt="4934">Brentwood</option><option value="105" alt="8566">University</option><option value="106" alt="8565">Banff Trail</option><option value="107" alt="8564">Lions Park</option><option value="108" alt="8563">SAIT / ACAD / Jubilee</option><option value="109" alt="8562">Sunnyside</option><option value="110" alt="6827">8th Street SW</option><option value="111" alt="6828">6th Street SW</option><option value="112" alt="6829">3rd Street SW</option><option value="113" alt="6830">Center Street SW</option><option value="114" alt="6831">City Hall</option><option value="115" alt="8556">Victoria Park / Stampede</option><option value="116" alt="8557">Erlton / Stampede</option><option value="117" alt="8558">39th Avenue</option><option value="118" alt="8559">Chinook</option><option value="119" alt="8560">Heritage</option><option value="120" alt="8561">Southland</option><option value="121" alt="9263">Anderson</option><option value="122" alt="9264">Canyon Meadows</option><option value="123" alt="9387">Fish Creek - Lacombe</option><option value="124" alt="9392">Shawnessy</option><option value="125" alt="9386">Somerset - Bridelwood</option></select><select id="southBoundTo"><option value="99" alt="none">Select your Starting Point</option><option value="100" alt="3641">Tuscany</option><option value="101" alt="3817">Crowfoot</option><option value="102" alt="3960">Dalhousie</option><option value="103" alt="4934">Brentwood</option><option value="104" alt="8566">University</option><option value="105" alt="8565">Banff Trail</option><option value="106" alt="8564">Lions Park</option><option value="107" alt="8563">SAIT / ACAD / Jubilee</option><option value="108" alt="8562">Sunnyside</option><option value="109" alt="6827">8th Street SW</option><option value="110" alt="6828">6th Street SW</option><option value="111" alt="6829">3rd Street SW</option><option value="112" alt="6830">Center Street SW</option><option value="113" alt="6831">City Hall</option><option value="114" alt="8556">Victoria Park / Stampede</option><option value="115" alt="8557">Erlton / Stampede</option><option value="116" alt="8558">39th Avenue</option><option value="117" alt="8559">Chinook</option><option value="118" alt="8560">Heritage</option><option value="119" alt="8561">Southland</option><option value="120" alt="9263">Anderson</option><option value="121" alt="9264">Canyon Meadows</option><option value="122" alt="9387">Fish Creek - Lacombe</option><option value="123" alt="9392">Shawnessy</option><option value="124" alt="9386">Somerset - Bridelwood</option></select></div><paper-button class="hidden disabled" disabled="disabled" id="disSchedules" raised="">Load Schedules</paper-button><div class="hidden" id="sDisplay"><div id="sHeaders"><h4 class="sFrom">Station From</h4><h4 class="sDept">Departure</h4><h4 class="sTo">Station To</h4><h4 class="sArr">Arrival</h4></div><div id="sContainer"><div id="sFromContainer"><div class="sTimeContainer"><span class="sTime">Jill</span></div><div class="sStationContainer"><span class="sStation">Smith</span></div></div><div id="sToContainer"><div class="sTimeContainer"><span class="sTime">Jill</span></div><div class="sStationContainer"><span class="sStation">Smith</span></div></div></div></div></section><script>function fetchTimes(e,n){sButton.click(function(){this.clearSchedule=new handleScheduleButton("clear");new fetchTimeData(n,e),new routeTimes(stop_times,rFromVal,rFromText,sFromTime,sFromStation),new routeTimes(stop_times,rToVal,rToText,sToTime,sToStation),new fetchDataFilter(checkFromValues,checkToValues);this.showClearButton=new handleScheduleButton}),this.optionDisable=new disableOptions(e,n),n.change(function(){var e=n.children("option").filter(":selected").attr("alt");switch(e){case"none":this.disableBttn=new handleScheduleButton("disabled and hidden");break;default:this.enableBttn=new handleScheduleButton("show button")}})}function routeTimes(e,n,t,s,o){$.each(e[n],function(e,n){console.log(n.arrival_time),console.log(t),o.append($("<span></span>").attr("class","sStation bus-schedule").text(t)),s.append($("<span></span>").attr("class","sTime bus-schedule").text(n.arrival_time))})}function handleDisplay(e,n,t){t===!0?(e.addClass("hidden"),n.addClass("hidden")):(e.removeClass("hidden"),n.addClass("hidden"))}function disableOptions(e,n){e.on("change",function(){var e=this;n.find("option").prop("disabled",function(){return this.value<e.value})})}function handleScheduleButton(e){switch(e){case"disabled and hidden":sButton.prop("disabled",!0),sButton.addClass("disabled"),sButton.addClass("disabled"),sContainer.addClass("hidden"),sButton.html("Load Schedules"),sContainer.find("span").remove().end();break;case"disable":sButton.prop("disabled",!0),sButton.addClass("disabled"),sButton.addClass("disabled"),sButton.html("Load Schedules");break;case"hidden":sButton.addClass("hidden"),sContainer.addClass("hidden"),sContainer.find("span").remove().end();break;case"show both":sButton.removeAttr("disabled"),sButton.removeClass("disabled"),sContainer.removeClass("hidden"),sContainer.find("span").remove().end();break;case"show button":sButton.removeAttr("disabled"),sButton.removeClass("disabled");break;case"clear and hide":sContainer.find("span").remove().end(),sContainer.addClass("hidden"),sButton.html("Load Schedules");break;case"clear":sContainer.find("span").remove().end();break;default:sButton.html("Refresh Schedules"),sButton.removeAttr("disabled"),sButton.removeClass("disabled"),sContainer.removeClass("hidden")}}function fetchDataFilter(e,n){e={},$("#sFromContainer .sTimeContainer > span.sTime").each(function(){var n=$(this).text();e[n]?$(this).remove():e[n]=!0}),n={},$("#sToContainer .sTimeContainer > span.sTime").each(function(){var e=$(this).text();n[e]?$(this).remove():n[e]=!0}),$("#sFromContainer .sTimeContainer > span:gt(30)").remove(),$("#sFromContainer .sStationContainer > span:gt(30)").remove(),$("#sToContainer .sTimeContainer > span:gt(30)").remove(),$("#sToContainer .sStationContainer > span:gt(30)").remove()}function fetchTimeData(e,n){rFromVal=n.children("option").filter(":selected").attr("alt"),rFromText=n.children("option").filter(":selected").text(),rToVal=e.children("option").filter(":selected").attr("alt"),rToText=e.children("option").filter(":selected").text()}var stop_times,rFromVal,rToVal,rFromText,rToText,fromTime,toTime,checkFromValues,checkToValues,dates=$("#dates"),dir=$("#direction"),nb=$("#nb"),sb=$("#sb"),sDisplay=$("#sDisplay"),sFromContainer=$("#sFromContainer"),sToContainer=$("#sToContainer"),sFromTime=$("#sFromContainer .sTimeContainer"),sFromStation=$("#sFromContainer .sStationContainer"),sToTime=$("#sToContainer .sTimeContainer"),sToStation=$("#sToContainer .sStationContainer"),sContainer=$("#sDisplay"),nbFrom=$("#northBoundFrom"),nbTo=$("#northBoundTo"),sbFrom=$("#southBoundFrom"),sbTo=$("#southBoundTo"),sButton=$("#disSchedules");dates.change(function(e){var n=dates.val();switch(n){case"WEEK":dir.removeClass("hidden"),$.getJSON("./components/json/stops_week.json",function(e){stop_times=e,console.log(stop_times)});break;case"SAT":dir.removeClass("hidden"),$.getJSON("./components/json/stops_sat.json",function(e){stop_times=e,console.log(stop_times)});break;case"SUN":dir.removeClass("hidden"),$.getJSON("./components/json/stops_sun.json",function(e){stop_times=e,console.log(stop_times)});break;default:dir.addClass("hidden"),this.hideSchedule=new handleDisplay(sButton,sContainer,!0),this.hideRoutes=new handleDisplay(sb,nb,!0)}}),dir.change(function(e){var n=dir.val();"NB"===n?(this.nbHandle=new handleDisplay(nb,sb,!1),this.nbButton=new handleDisplay(sButton,sContainer,!1),this.nbFetch=new fetchTimes(nbFrom,nbTo),this.showClearButton=new handleScheduleButton("clear and hide")):"SB"===n?(this.sbHandle=new handleDisplay(sb,nb,!1),this.sbButton=new handleDisplay(sButton,sContainer,!1),this.sbFetch=new fetchTimes(sbFrom,sbTo),this.showClearButton=new handleScheduleButton("clear and hide")):(this.routesHandle=new handleDisplay(sb,nb,!0),this.sButtonHandle=new handleDisplay(sButton,sContainer,!0),this.showClearButton=new handleScheduleButton("clear and hide"))});</script></template><script>Polymer({is:"bus-schedule"});</script></dom-module></div><dom-module id="my-view1"><template><style include="shared-styles">:host{display:block;padding:10px;text-align:center}</style><main class="card"><h2>Welcome to the Calgary Transit Public Transportation Application</h2><bus-schedule></bus-schedule><img id="cTrainImg" src="img/c-train.jpg" alt=""></main></template><script>Polymer({is:"my-view1"});</script></dom-module></body></html>